# 2020303 Minnesota Primary precinct maps

Scripts to process precinct results into an SVG and tileset using a variety of command-line tools

### NPM things to have installed globally
```bash
# npm install -g ndjson-cli topojson-client d3 mapshaper shapefile @turf/turf
npm install ndjson-cli topojson-client d3 mapshaper shapefile @turf/turf
```

### Homebrew things
```bash
brew install tippecanoe
```

# Processing precinct data

### 1. Create a precinct basemap topojson from the SOS precinct shapefile

```
cd sources
./process_precinct_topojson.sh
```

### 1.5. If it doesn't already exist, make a mask to hide non-Minnesota states

```
cd sources
./get_mask.sh
```

### 2. Download results data from SOS site

```
./get-pres-precinct-data.sh
```

### 3. Join results and basemaps to make an SVG and .mbtiles

```
./make-pres-primary-precinct-maps.sh
```


## Publishing

See [docs/publishing.md](./docs/publishing.md).

## Application data

See [docs/application-data.md](./docs/application-data.md).

## Development

See [docs/development.md](./docs/development.md).

### Files and directories

See [docs/development.md](./docs/files-directories.md).

### Testing

See [docs/testing.md](./docs/testing.md).

### Code styles

See [docs/code-styles-linting.md](./docs/code-styles-linting.md).

## License

Code is licensed under the MIT license included here. Content (such as images, video, audio, copy) can only be reused with express permission by Star Tribune.

## Generated

Generated by [Star Tribune StribLab generator](https://github.com/striblab/generator-striblab) on 2018-11-07T19:16:41.439Z.
